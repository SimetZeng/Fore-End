# 单线程

作为浏览器脚本语言，JavaScript的主要用途是与用户互动以及操作DOM。这决定了它只能是单线程，否则会带来很复杂的同步问题。

# 任务队列

- 所有任务需要排队，前一个任务结束，才会执行后一个任务。
- 任务分两种：同步任务和异步任务
  - 同步：只有前一个任务执行完毕，才能执行后一个任务
  - 异步：不进入主线程、而进入"任务队列"（task queue）的任务，只有"任务队列"通知主线程，某个异步任务可以执行了，该任务才会进入主线程执行
- 异步执行的运行机制：
  - 所有同步任务都在主线程上执行，形成执行栈
  - 主线程之外存在一个"任务队列"。只要异步任务有了运行结果，就在"任务队列"之中放置一个事件
  - 一旦"执行栈"中的所有同步任务执行完毕，系统就会读取"任务队列"
  - 主线程不断重复上面的第三步
- <span style="color:red;">只要主线程空了，就去读取"任务队列"</span>

# 事件和回调函数

- "任务队列"是一个事件的队列。主线程读取"任务队列"，就是读取里面有哪些事件
- 回调函数就是被主线程挂起来的代码。异步任务必须指定回调函数，当主线程开始执行异步任务，就是执行对应的回调函数

# Event Loop

主线程从"任务队列"中读取事件，这个过程是循环不断的，所以整个的这种运行机制又称为Event Loop（事件循环）。

# 定时器

- 除了放置异步任务的事件，"任务队列"还可以放置定时事件，即指定某些代码在多少时间之后执行
- 定时器功能主要由setTimeout()和setInterval()这两个函数来完成
